/* Light theme variables */
:root{
  --bg: #f6f8fa;
  --card: #ffffff;
  --muted: #6b7280;
  --accent: #2f6bf6;        /* primary blue */
  --bubble-user: #e6f0ff;
  --bubble-bot: #f3f4f6;
  --danger: #ef4444;
  --radius: 12px;
  --container-max: 960px;
  --shadow: 0 8px 30px rgba(21,32,43,0.08);
  --glass: rgba(255,255,255,0.85);
}

/* Base */
* { box-sizing: border-box; }
html,body { height: 100%; margin:0; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background: var(--bg); color: #0f172a; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
.app-shell { min-height: 100vh; display:flex; align-items:center; justify-content:center; padding: 2rem 1rem; }

/* chat wrapper */
.chat-wrapper { max-width: var(--container-max); width:100%; }

/* Card */
.app-card { border-radius: 16px; overflow: hidden; background: linear-gradient(180deg, var(--card), #fcfeff); box-shadow: var(--shadow); border: 1px solid rgba(20,20,30,0.03); display:flex; flex-direction:column; }

/* Header */
.app-header { padding: 1rem 1.25rem; align-items:center; border-bottom: 1px solid rgba(15,23,42,0.03); }
.brand { display:flex; align-items:center; gap:0.9rem; }
.brand-logo { width:48px; height:48px; border-radius:10px; object-fit:cover; box-shadow:0 4px 12px rgba(47,107,246,0.08); background: linear-gradient(135deg,#eff6ff,#ffffff); padding:6px; }
.brand-text h1 { margin:0; font-size:1.05rem; color:#071329; letter-spacing: -0.2px; }
.brand-text p { margin:0; color:var(--muted); font-size:0.85rem; }

/* messages area */
.messages-area { padding:1.25rem; min-height: 400px; max-height: 60vh; overflow-y:auto; background: linear-gradient(180deg, rgba(250,250,252,0.6), transparent); }

/* welcome message */
.system-welcome { color: var(--muted); background: linear-gradient(180deg,#ffffff,#fbfdff); border-radius:10px; padding:12px; border:1px solid rgba(15,23,42,0.03); }

/* message rows & bubbles */
.message-row { display:flex; width:100%; }
.message-row--user { justify-content:flex-end; }
.message-row--bot { justify-content:flex-start; }

.bubble { max-width:78%; padding: 10px 12px; border-radius:14px; box-shadow: 0 6px 18px rgba(12,18,28,0.04); position:relative; font-size:0.95rem; line-height:1.35; color: #071329; }
.bubble--user { background: var(--bubble-user); border-top-right-radius:6px; border-bottom-right-radius:6px; }
.bubble--bot { background: var(--bubble-bot); border-top-left-radius:6px; border-bottom-left-radius:6px; }
.bubble--error { border-left: 3px solid var(--danger); }

/* bubble text and meta */
.bubble-text { white-space:pre-wrap; word-wrap:break-word; }
.bubble-meta { font-size:0.78rem; color:var(--muted); margin-top:8px; text-align:right; }

/* thinking indicator w/ spinner */
.thinking { display:flex; gap:0.75rem; align-items:center; padding: 0.85rem 1rem; border-top:1px solid rgba(15,23,42,0.03); background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(250,250,251,0.6)); }
.spinner-ring {
  width:20px; height:20px; border-radius:50%; position:relative; box-sizing:border-box;
  border:3px solid rgba(47,107,246,0.12);
  border-top-color: var(--accent);
  animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }
.thinking-text { font-weight:600; color:#0f172a; }
.dotting { display:inline-block; opacity:0.8; animation: dots 1s steps(3, end) infinite; margin-left:2px; }
@keyframes dots { 0% { content: "."; } 33% { content: ".."; } 66% { content: "..."; } 100% { content: ""; } }

/* input footer */
.input-footer { padding: 0.85rem; border-top:1px solid rgba(15,23,42,0.03); display:flex; gap:0.75rem; align-items:center; background:transparent; }
.input-text { resize:none; border-radius:12px; padding:10px 12px; border:1px solid rgba(15,23,42,0.06); box-shadow:none; background: #ffffff; min-height:44px; max-height:220px; font-size:0.95rem; }
.send-btn { min-width:48px; height:44px; display:flex; align-items:center; justify-content:center; border-radius:10px; padding:0 12px; }

/* small screens */
@media (max-width: 768px) {
  .messages-area { max-height: 54vh; padding:1rem; min-height: 320px; }
  .brand-text h1 { font-size:1rem; }
}

/* custom scrollbar for messages */
.messages-area::-webkit-scrollbar { width:10px; height:10px; }
.messages-area::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.06); border-radius:8px; }

/* accessibility focus */
button:focus, textarea:focus { outline: 3px solid rgba(47,107,246,0.12); outline-offset: 2px; }
